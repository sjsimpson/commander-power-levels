---
import RootLayout from "../../layouts/RootLayout.astro";
import { getCollection } from "astro:content";

const page = "Deckbuilding and Card Advantage";
const collection = await getCollection("deckbuilding-card-advantage");
const parsedCollection = await Promise.all(
  collection
    .sort((a, b) => a.data.order - b.data.order)
    .map(async (item) => {
      const { Content } = await item.render();
      return { id: item.data.id, name: item.data.name, content: Content };
    }),
);
---

<RootLayout title={page} sections={parsedCollection}>
  <article class="prose pb-60">
    <h1 id="page-header">{page}</h1>
    <p>
      The amount of card advantage to include in your deck can often feel very
      difficult to nail down. By their very nature, including more card
      advantage pieces in your deck will increase the number of cards you get to
      see over the course of a game (including other card advantage pieces).
      Having a card advantage engine available in the command zone may also
      distort how you construct your deck.
    </p>
    {
      parsedCollection.map((item) => (
        <section id={item.id}>
          <h2>{item.name}</h2>
          <item.content />
        </section>
      ))
    }
  </article>
</RootLayout>
